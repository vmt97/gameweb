window.__require=function e(t,n,c){function i(r,o){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!o&&u)return u(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return i(t[r][1][e]||e)},l,l.exports,e,t,n,c)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<c.length;r++)i(c[r]);return i}({GameController:[function(e,t,n){"use strict";cc._RF.push(t,"129a7GDnFNIuqNsuUxe+d5A","GameController");var c=e("UIController"),i=cc.Class({extends:cc.Component,properties:{listImage:{default:[],type:cc.SpriteFrame},square:{default:null,type:cc.Prefab},listSquare:{default:[],type:cc.Prefab},tmpSquare:{default:null,type:cc.Prefab},score:0,canPlay:!0},statics:{instance:null},onLoad:function(){i.instance=this,this.score=0},initLevel:function(){var e=this;this.setScore();var t=0;c.instance.hidePlayButton();var n=0,i=cc.delayTime(.1),a=cc.callFunc(function(){t++,e.createSquare(t,n,e.listImage[n])},this),r=cc.callFunc(function(){t++,e.createSquare(t,n,e.listImage[n]),n++},this);this.node.runAction(cc.sequence(cc.repeat(cc.sequence(i,a,r),this.listImage.length),cc.delayTime(1),cc.callFunc(function(){e.setUpPositionSquares()})))},setUpPositionSquares:function(){for(var e=0,t=0;t<5;t++)for(var n=0;n<4;n++){var c=64*t-110,i=64*n-25,a=this.listSquare[e],r=cc.moveTo(1,c,i).easing(cc.easeBackInOut()),o=cc.sequence(cc.delayTime(.1*e),r);a.runAction(o),e++}},createSquare:function(e,t,n){var c=cc.instantiate(this.square);c.parent=this.node,c.emit("INIT_INFO",e,t,n),c.setPosition(0,-130,0),this.listSquare.push(c)},radomInteger:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)},randomElementInArray:function(e){return e[radomInteger(0,e.length-1)]},getTmpSquare:function(){return this.tmpSquare},setTmpSquare:function(e){this.tmpSquare=e},clearTmpSquare:function(){this.tmpSquare=null},removeSquare:function(e){var t=this.listSquare.indexOf(e);this.listSquare.splice(t,1)},checkWinGame:function(){this.listSquare.length>0||c.instance.showVictory()},countScore:function(){var e=this,t=cc.delayTime(.1),n=cc.callFunc(function(){e.score+=1,e.setScore()},this);this.node.runAction(cc.repeat(cc.sequence(t,n),10))},setScore:function(){c.instance.showScore(this.score)},playAgain:function(){c.instance.hideUIplayAgain(),this.initLevel()},setCanPlay:function(e){this.canPlay=e},isCanPlay:function(){return this.canPlay}});cc._RF.pop()},{UIController:void 0}],Square:[function(e,t,n){"use strict";cc._RF.push(t,"bde07hH36lFD7NcI2WClEpB","Square");var c=e("GameController");cc.Class({extends:cc.Component,properties:{index:0,type:0,labelIndex:{default:null,type:cc.Label},labelType:{default:null,type:cc.Label},defaultSprite:{default:null,type:cc.SpriteFrame},t:{default:null,type:cc.SpriteFrame}},onLoad:function(){this.node.on("INIT_INFO",this.initInfor,this),this.node.on(cc.Node.EventType.TOUCH_START,this.tounchSquare,this)},initInfor:function(e,t,n){this.index=e,this.type=t,this.spriteOpen=n,this.labelIndex.string=e,this.labelType.string=t},tounchSquare:function(){var e=this;if(c.instance.isCanPlay()){cc.log("can play: "+c.instance.isCanPlay());var t=c.instance.getTmpSquare();if(t){var n=t.getType();if(t!=this){var i=cc.sequence(cc.callFunc(function(){e.openSquare()}),cc.delayTime(1),cc.callFunc(function(){n===e.getType()?(e.matchSquare(),t.matchSquare(),c.instance.countScore(),c.instance.checkWinGame(),c.instance.setCanPlay(!1)):(e.resetSquare(),t.resetSquare(),c.instance.clearTmpSquare())}));this.node.runAction(i)}}else this.openSquare(),c.instance.setTmpSquare(this)}},openSquare:function(){var e=this,t=cc.scaleTo(.3,0,1),n=cc.scaleTo(.3,1,1),c=cc.sequence(t,cc.callFunc(function(){e.node.getComponent(cc.Sprite).spriteFrame=e.spriteOpen}),n);this.node.runAction(c)},resetSquare:function(){var e=this,t=cc.scaleTo(.3,0,1),n=cc.scaleTo(.3,1,1),c=cc.sequence(t,cc.callFunc(function(){e.node.getComponent(cc.Sprite).spriteFrame=e.defaultSprite}),n);this.node.runAction(c)},matchSquare:function(){var e=this;this.node.zIndex=1;var t=cc.scaleTo(.3,2,2),n=cc.sequence(t,cc.callFunc(function(){e.node.removeFromParent(!0),c.instance.clearTmpSquare(),c.instance.checkWinGame(),c.instance.setCanPlay(!0)}));this.node.runAction(n),c.instance.removeSquare(this)},getType:function(){return this.type},getIndex:function(){return this.index}}),cc._RF.pop()},{GameController:"GameController"}],UIConTroller:[function(e,t,n){"use strict";cc._RF.push(t,"c270asPQH5PbLUFII3NfggR","UIConTroller");var c=cc.Class({extends:cc.Component,properties:{victoryPopup:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},playButton:{default:null,type:cc.Button}},statics:{instance:null},onLoad:function(){c.instance=this},showScore:function(e){this.scoreLabel.string="Score: "+e},showVictory:function(){this.victoryPopup.active=!0},hidePlayButton:function(){cc.log("hide btn"),this.playButton.node.active=!1},backVictory:function(){this.playButton.node.active=!0,this.victoryPopup.active=!1},hideUIplayAgain:function(){this.hidePlayButton(),this.victoryPopup.active=!1}});cc._RF.pop()},{}]},{},["GameController","Square","UIConTroller"]);